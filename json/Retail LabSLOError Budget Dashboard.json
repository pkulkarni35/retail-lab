{
  "title": "Retail Lab â€“ SLO & Error Budget",
  "description": "Metrics-based SLOs for checkout, payment, and cart.",
  "layout_type": "ordered",
  "widgets": [
    {
      "definition": {
        "type": "query_value",
        "title": "Checkout Availability SLO (7d)",
        "requests": [
          {
            "q": "100 * ( sum:retail.checkout.requests{env:retail-lab,status:success}.rollup(sum, 3600) / sum:retail.checkout.requests{env:retail-lab}.rollup(sum, 3600) )",
            "response_format": "scalar"
          }
        ],
        "custom_unit": "%"
      }
    },
    {
      "definition": {
        "type": "query_value",
        "title": "Payment Availability SLO (7d)",
        "requests": [
          {
            "q": "100 * ( sum:retail.payment.requests{env:retail-lab,status:success}.rollup(sum, 3600) / sum:retail.payment.requests{env:retail-lab}.rollup(sum, 3600) )",
            "response_format": "scalar"
          }
        ],
        "custom_unit": "%"
      }
    },
    {
      "definition": {
        "type": "query_value",
        "title": "Cart Add-to-Cart SLO (7d)",
        "requests": [
          {
            "q": "100 * ( sum:retail.cart.add_to_cart{env:retail-lab,status:success}.rollup(sum, 3600) / sum:retail.cart.add_to_cart{env:retail-lab}.rollup(sum, 3600) )",
            "response_format": "scalar"
          }
        ],
        "custom_unit": "%"
      }
    },
    {
      "definition": {
        "type": "timeseries",
        "title": "Checkout Good vs Total (Error Budget View)",
        "requests": [
          {
            "q": "sum:retail.checkout.requests{env:retail-lab,status:success}.as_count()",
            "display_type": "line"
          },
          {
            "q": "sum:retail.checkout.requests{env:retail-lab}.as_count()",
            "display_type": "line"
          }
        ]
      }
    },
    {
      "definition": {
        "type": "timeseries",
        "title": "Payment Good vs Total (Error Budget View)",
        "requests": [
          {
            "q": "sum:retail.payment.requests{env:retail-lab,status:success}.as_count()",
            "display_type": "line"
          },
          {
            "q": "sum:retail.payment.requests{env:retail-lab}.as_count()",
            "display_type": "line"
          }
        ]
      }
    }
  ],
  "template_variables": [
    {
      "name": "env",
      "default": "retail-lab",
      "prefix": "env"
    }
  ]
}
